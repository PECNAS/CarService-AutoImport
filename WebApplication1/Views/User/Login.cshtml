@{
    Layout = "~/Views/Shared/_Layout.cshtml";
	ViewData["ShowHeader"] = false;
}
@model ViewModels.LoginModel;


<link href="~/css/login.css" rel="stylesheet" />
<link href="~/css/modal.css" rel="stylesheet" />

<script type="text/javascript">
	function close_modal() {
		document.querySelector("#modal-shadow").style.display = "none";
	}

	function view_psswd() {
		var psswd_input = document.querySelector("#Password");
		var eye = document.querySelector(".password-control");

		if (psswd_input.getAttribute("type") == "text") {
			psswd_input.setAttribute("type", "password");
			eye.classList.remove("view");
		} else {
			psswd_input.setAttribute("type", "text");
			eye.classList.add("view");
		}
	}
</script>

<div class="logo-container">
	<a href="/">
		<img src="~/imgs/logo.png" width="100%" height="100%" />
	</a>
</div>

@if (ViewBag.IsValid == false)
{
	<div id="modal-shadow">
		<div id="error-modal">
			<div class="modal-image">
				<img src="~/imgs/logo.png" height="100%" width="100%" />
			</div>
			<div class="modal-text">
				<span class="modal-title">ВНИМАНИЕ</span>
				<span id="modal-text">
					@Html.ValidationMessageFor(Model => Model.Email)
				</span>
			</div>
			<button onclick="close_modal()" id="close-modal">X</button>
		</div>
	</div>
}

<div class="inner-container">
	<div id="content">
		<div class="form-title">
			<span>АВТОРИЗАЦИЯ</span>
		</div>
		<div class="inputs-container">
			<form asp-action="Login" method="post">
				<div class="input-row">
					<!--<span>Email: </span>-->
					<input autocomplete="off" type="text" asp-for="Email" class="form-input" placeholder="E-mail">
				</div>
				<div class="input-row" id="psswd-input">
					<!--<span>Пароль: </span>--> 
					<input type="password" autocomplete="off" asp-for="Password" class="form-input" placeholder="Пароль">
					<a onclick="view_psswd()" href="#" class="password-control"></a>
				</div>

				<div class="btn-container">
					<button type="submit" id="send">ВХОД</button>
				</div>
			</form>
		</div>
	</div>
	<div class="other-page-link">
		<span>У вас нет учетной записи? </span><a asp-action="Registration">Зарегистрироваться</a>
	</div>
</div>
<script src="~/js/login.js" type="text/javascript"></script>

<script>
	if ("@ViewBag.IsValid" != "") {
		window.email_valid = true;
		window.psswd_valid = false;
	}
</script>