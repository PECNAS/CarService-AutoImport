@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = ViewBag.item.Title;
}

@model ViewModels.BuyModel;

<link href="~/css/item.css" rel="stylesheet" />

<div id="cart-modal">
	<span>Товар @ViewBag.item.Title успешно добавлен в корзину!</span>
</div>

<script type="text/javascript">
	function show_modal() {
		var modal = document.querySelector("#cart-modal");
		modal.classList = "animate-modal";
		setTimeout(
			() => {
				modal.classList = "";
				//document.location.href = "/Catalog"; // убрать комментарий для возврата в каталог после показа уведомления
			},
			3 * 1000
		);
	}
</script>


<div id="content">
	<div class="item-container">
		<div class="left-image-container">
			<img src="~/imgs/@ViewBag.item.Image" width="100%" height="100%">
		</div>
		<div class="right-text-container">
			<div class="item-title-container">
				<span>@ViewBag.item.Title</span>
				<div class="item-articul-container">
					<span>Артикул: @ViewBag.item.Id</span>
				</div>
			</div>
			<div class="item-type-container">
				<span>@ViewBag.item.Type</span>
			</div>
			<div class="item-desc-container">
				<span>@ViewBag.item.Description</span>
			</div>
		</div>
	</div>
	<div class="user-container">
		<div class="inner-user-container">
			<div class="upper-container">
				<div class="counter-container">
					<button class="counter-btn" id="minus-btn">-</button>
					<button class="counter-btn" id="counter">1</button>
					<button class="counter-btn" id="plus-btn">+</button>
				</div>
				<form asp-action="AddToCart" asp-controller="Catalog" method="post">
					<div class="buy-btn-container">
						<input type="type" asp-for="ItemId" value="@ViewBag.item.Id" style="display: none;"/>
						<input type="type" asp-for="Counter" value="1" style="display: none;"/>
						<button onclick="show_modal()" type="submit">Купить</button>
					</div>
				</form>
			</div>
			<hr id="separator-line">
			<div class="lower-container">
				<span>
					@ViewBag.item.Price руб.
				</span>
			</div>
		</div>
	</div>
</div>


<script src="~/js/counter.js" type="text/javascript"></script>